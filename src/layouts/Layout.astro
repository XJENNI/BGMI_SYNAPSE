---
export interface Props {
  title: string;
  description?: string;
  activePage?: string;
}

const { title, description = "SYNAPSE MAMC BGMI 2026 - Official BGMI Esports Tournament", activePage = "home" } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content={description}>
    <meta name="keywords" content="BGMI, esports, tournament, Synapse, MAMC, Maulana Azad Medical College, gaming, Battlegrounds Mobile India">
    <meta name="author" content="Synapse MAMC Organizing Committee">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content={title}>
    <meta property="og:description" content={description}>
    <meta property="og:type" content="website">
    <meta property="og:image" content="/data/img/erangle.jpg">
    
    <title>{title}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/data/img/mamclogo_nobg.png">
    
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

    <!-- Fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"></noscript>

    <!-- Font Awesome -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style" onload="this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></noscript>

    <!-- Global Styles -->
    <link rel="stylesheet" href="/src/styles/global.css">
</head>
<body>
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="preloader-content">
            <div class="preloader-logo">KRAFTON x MAVERICKS x SYNAPSE</div>
            <div class="preloader-bar"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="site-header" id="header">
        <div class="header-inner">
            <div class="brand-logos">
                <img src="/data/img/mamclogo_nobg.png" alt="MAMC Logo" class="brand-logo-img mamc">
            </div>
            
            <a href="/" class="site-logo">
                <span class="highlight">SYNAPSE</span> 2026
            </a>
            
            <nav class="main-nav" id="mainNav" role="navigation" aria-label="Primary Site Navigation" aria-hidden="true">
                <button type="button" class="nav-close" id="navClose" aria-label="Close menu" aria-controls="mainNav">Ã—</button>
                <ul class="nav-list" role="menu">
                    <li role="none"><a role="menuitem" href="/" class={`nav-link ${activePage === 'home' ? 'active' : ''}`}>Home</a></li>
                    <li role="none"><a role="menuitem" href="/teams" class={`nav-link ${activePage === 'teams' ? 'active' : ''}`}>Teams</a></li>
                    <li role="none"><a role="menuitem" href="/standings" class={`nav-link ${activePage === 'standings' ? 'active' : ''}`}>Standings</a></li>
                    <li role="none"><a role="menuitem" href="/schedule" class={`nav-link ${activePage === 'schedule' ? 'active' : ''}`}>Schedule</a></li>
                    <li role="none"><a role="menuitem" href="/watch" class={`nav-link ${activePage === 'watch' ? 'active' : ''}`}>Watch</a></li>
                </ul>
                <!-- Sponsor Logo for Mobile Sidebar -->
                <div class="nav-sponsor-mobile">
                    <a href="https://www.krafton.com" target="_blank" rel="noopener" aria-label="Krafton" class="nav-krafton-link">
                        <img src="/data/img/KRAFTONL.jpg" alt="KRAFTON" width="140" height="48" loading="lazy" decoding="async">
                    </a>
                </div>
            </nav>

            <div class="header-extra" style="display: flex; align-items: center; gap: var(--space-md);">
                <img src="/data/img/synapse_nobg.png" alt="Synapse Logo" class="brand-logo-img synapse" style="height: 48px;">
                <button type="button" class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Cyber Navigation Hub -->
    <div class="cyber-nav-hub">
        <a class="cyber-nav-item" href="/">Home</a>
        <a class="cyber-nav-item" href="/teams">Teams</a>
        <a class="cyber-nav-item" href="/standings">Standings</a>
        <a class="cyber-nav-item" href="/schedule">Schedule</a>
        <a class="cyber-nav-item" href="/watch">Watch</a>
    </div>

    <!-- Main Content -->
    <main>
        <slot />
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-grid">
            <div class="footer-section">
                <h4>Partner Institutions</h4>
                <div class="footer-brand-logos" style="display: flex; gap: var(--space-md); margin-top: var(--space-md);">
                    <img src="/data/img/mamclogo_nobg.png" alt="MAMC" width="120" height="40" loading="lazy" decoding="async" style="height: 40px;">
                    <img src="/data/img/synapse_nobg.png" alt="Synapse" width="105" height="35" loading="lazy" decoding="async" style="height: 35px;">
                    <img src="/data/img/mavericksr.png" alt="Mavericks" width="105" height="35" loading="lazy" decoding="async" style="height: 35px;">
                </div>
                <p style="margin-top: var(--space-md); font-size: 0.9rem;">Organized by Mavericks Gaming Society of Maulana Azad Medical College. Krafton-backed initiative for medical students.</p>
            </div>
            <div class="footer-section">
                <h4>Tournament Links</h4>
                <div class="footer-links">
                    <a href="/">Home</a>
                    <a href="/standings">Standings</a>
                    <a href="/schedule">Schedule</a>
                    <a href="/watch">Watch Live</a>
                </div>
            </div>
            <div class="footer-section">
                <h4>Social Identity</h4>
                <div class="social-links">
                    <a href="#" class="social-link" aria-label="Discord">
                        <i class="fab fa-discord"></i>
                    </a>
                    <a href="https://instagram.com/mavericks_mamc" class="social-link" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
                <p style="margin-top: 15px; font-size: 0.8rem; color: var(--text-muted);">#Synapse2026 #MavericksMAMC</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 Synapse MAMC. Building medical gaming legacy.</p>
        </div>
    </footer>

    <!-- Scroll to Top -->
    <button class="scroll-top" id="scrollTop" aria-label="Scroll to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Contact Tab -->
    <div class="contact-tab" id="contactTab" aria-hidden="false">
        <button type="button" class="contact-toggle" id="contactToggle" aria-expanded="false" aria-controls="contactPanel" aria-label="Contact organizers">
            <i class="fab fa-whatsapp"></i>
        </button>
        <div class="contact-panel" id="contactPanel" role="dialog" aria-label="Contact organizers" aria-hidden="true">
            <div class="contact-panel-header">
                <h4>Contact Organizers</h4>
            </div>
            <div class="contact-row">
                <div class="contact-card">
                    <div class="contact-name">Harsh Patel</div>
                    <a href="tel:+917209339920" class="contact-phone" aria-label="Call Harsh Patel">ðŸ“ž 7209339920</a>
                    <a href="https://wa.me/917209339920?text=Hello%20Harsh,%20I%20have%20a%20query%20about%20Synapse%20BGMI%202026" target="_blank" rel="noopener" class="contact-whatsapp" aria-label="Message Harsh on WhatsApp"><i class="fab fa-whatsapp"></i> Message</a>
                </div>
                <div class="contact-card">
                    <div class="contact-name">Yash Garg</div>
                    <a href="tel:+919910231663" class="contact-phone" aria-label="Call Yash Garg">ðŸ“ž 9910231663</a>
                    <a href="https://wa.me/919910231663?text=Hello%20Yash,%20I%20have%20a%20query%20about%20Synapse%20BGMI%202026" target="_blank" rel="noopener" class="contact-whatsapp" aria-label="Message Yash on WhatsApp"><i class="fab fa-whatsapp"></i> Message</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Denvil tagmark -->
    <a href="https://github.com/denxvil" target="_blank" rel="noopener noreferrer" class="denvil-badge" title="Coded by Denvil" aria-label="Coded by Denvil">
        <span class="denvil-icon" aria-hidden="true">ðŸ’ </span>
        <span class="denvil-text">coded by <strong>Denvil</strong></span>
    </a>

    <!-- Main JavaScript -->
    <script>
        // Preloader
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            if (preloader) {
                preloader.style.opacity = '0';
                setTimeout(() => preloader.style.display = 'none', 300);
            }
        });

        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const mainNav = document.getElementById('mainNav');
        const navClose = document.getElementById('navClose');
        
        if (menuToggle && mainNav) {
            menuToggle.addEventListener('click', () => {
                mainNav.classList.toggle('active');
                document.body.classList.toggle('nav-open');
            });
        }
        
        if (navClose && mainNav) {
            navClose.addEventListener('click', () => {
                mainNav.classList.remove('active');
                document.body.classList.remove('nav-open');
            });
        }

        // Header scroll effect
        const header = document.getElementById('header');
        if (header) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }

        // Scroll to top button
        const scrollTop = document.getElementById('scrollTop');
        if (scrollTop) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    scrollTop.classList.add('visible');
                } else {
                    scrollTop.classList.remove('visible');
                }
            });
            
            scrollTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // Contact tab toggle
        const contactToggle = document.getElementById('contactToggle');
        const contactPanel = document.getElementById('contactPanel');
        if (contactToggle && contactPanel) {
            contactToggle.addEventListener('click', () => {
                const isExpanded = contactToggle.getAttribute('aria-expanded') === 'true';
                contactToggle.setAttribute('aria-expanded', !isExpanded);
                contactPanel.setAttribute('aria-hidden', isExpanded);
                contactPanel.classList.toggle('active');
            });
        }
    </script>
</body>
</html>
